" vim:ft=vim
" CtrlP - Fuzzy file finder

Plug 'ctrlpvim/ctrlp.vim'

nmap <LEADER>bb :CtrlPBuffer<CR>
nmap <LEADER>bo :CtrlPBuffer<CR>
nmap <LEADER>ff :CtrlPMRU<CR>
nmap <LEADER>fo :CtrlP<CR>
nmap <LEADER>fr :CtrlPMRU<CR>

if executable('ag')
  " Use Silver Searcher with CtrlP
  let g:ctrlp_user_command = 'ag -l -g "" %s'
endif


set runtimepath^=~/.vim/bundle/ctrlp.vim  " Add CtrlP to runtime path

" Run in MRU mode
let g:ctrlp_cmd = 'CtrlPMRU'

" Don't remember matches in MRU list
let g:ctrlp_mruf_exclude = '\.fugitiveblame'

" Number of files to remember
let g:ctrlp_mruf_max = 500

" Customize results window
let g:ctrlp_match_window = 'bottom,order:btt,max:25,results:50'

" t = in a new tab
" h = in a new horizontal split
" v = in a new vertical split (default)
" r = current window
let g:ctrlp_open_new_file = 'r'

" open files with <C-z>, <C-o> in vert splits, open the first file in current
" window and jump to it
let g:ctrlp_open_multiple_files = '2vjr'

" Don't use caching - Silver Searcher is fast enough w/o it.
let g:ctrlp_use_caching = 0

" Set working dir to nearest ancestor of the current file (r)
" or the dir of the current file, unless it's a subdir of cwd (a)
let g:ctrlp_working_path_mode = 'ra'

" If a file is already open, open it again in a new pane instead of switching
" to the existing pane.
let g:ctrlp_switch_buffer = '0'
